(this["webpackJsonpeog-react-visualization-base"]=this["webpackJsonpeog-react-visualization-base"]||[]).push([[0],{258:function(e,t,a){e.exports=a(446)},446:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(22),i=a.n(c),o=a(31),l=a(112),u=a(226),m=a(55),s=a.n(m),d=a(93),p=a(34),f=a(149),h=Object(f.a)({name:"weather",initialState:{temperatureinCelsius:0,temperatureinFahrenheit:0,description:"",locationName:""},reducers:{weatherDataRecevied:function(e,t){var a=t.payload,r=a.description,n=a.locationName,c=a.temperatureinCelsius;e.temperatureinCelsius=c,e.temperatureinFahrenheit=9*c/5+32,e.description=r,e.locationName=n},weatherApiErrorReceived:function(e,t){return e}}}),b=h.reducer,E=h.actions,g=s.a.mark(O),v=s.a.mark(j);function O(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)(p.b.error,"Error Received: ".concat(e.payload.error));case 2:case"end":return t.stop()}}),g)}function j(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)(E.weatherApiErrorReceived.type,O);case 2:case"end":return e.stop()}}),v)}var w=s.a.mark(y);function y(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(j);case 2:case"end":return e.stop()}}),w)}var N={weather:b},k=Object(o.combineReducers)(N),x=a(92),M=a(224),R=a(506),S=a(507),C=(a(267),a(57)),D=a(497),F=a(498),L=a(212),W=a(122),T=a(33),I=a(152),P=a(495),q=a(496),B=a(513),A=a(11),$=Object(A.a)((function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}}))(B.a),z=Object(T.a)({url:"https://react.eogresources.com/graphql"}),G=function(e){var t=e.weather;return{temperatureinFahrenheit:t.temperatureinFahrenheit,description:t.description,locationName:t.locationName}},V=function(){return n.a.createElement(I.a,{value:z},n.a.createElement(J,null))},J=function(){var e=Object(P.a)(),t={latitude:e.latitude||29.7604,longitude:e.longitude||-95.3698},a=Object(x.b)(),c=Object(x.c)(G),i=c.temperatureinFahrenheit,o=c.description,l=c.locationName,u=Object(I.b)({query:"\nquery($latLong: WeatherQuery!) {\n  getWeatherForLocation(latLong: $latLong) {\n    description\n    locationName\n    temperatureinCelsius\n  }\n}\n",variables:{latLong:t}}),m=Object(W.a)(u,1)[0],s=m.fetching,d=m.data,p=m.error;return Object(r.useEffect)((function(){if(p)a(E.weatherApiErrorReceived({error:p.message}));else if(d){var e=d.getWeatherForLocation;a(E.weatherDataRecevied(e))}}),[a,d,p]),s?n.a.createElement(q.a,null):n.a.createElement($,{label:"Weather in ".concat(l,": ").concat(o," and ").concat(i,"\xb0")})},K=Object(L.a)({grow:{flexGrow:1}}),Q=function(){var e=K();return n.a.createElement(D.a,{position:"static"},n.a.createElement(F.a,null,n.a.createElement(C.a,{variant:"h6",color:"inherit",className:e.grow},"Peter's"," EOG React Visualization Assessment"),n.a.createElement(V,null)))},H=Object(L.a)({wrapper:{height:"100vh"}}),U=function(e){var t=e.children,a=H();return r.createElement("div",{className:a.wrapper},t)},_=a(73),X=a(60),Y=a(51),Z=a(503),ee=a(499),te=Object(A.a)((function(e){return{root:{background:e.palette.primary.main},title:{color:"white"}}}))(ee.a),ae=a(504),re=a(505),ne=a(43);function ce(){var e=Object(_.a)(["\n  query getMeasurements($metricInfo: MeasurementQuery) {\n    getMeasurements(input: $metricInfo) {\n      metric\n      at\n      value\n      unit\n    }\n  }\n"]);return ce=function(){return e},e}var ie=Object(Y.b)(ce()),oe=function(e){var t=new Date(e.epochTime);t.setMinutes(t.getMinutes()-30);var a=Math.round(t.getTime()/1e3),r=e.daName,c={metricName:r,after:a},i=Object(X.a)(ie,{variables:{metricInfo:c},pollInterval:200}),o=i.loading,l=i.error,u=i.data;if(o)return p.b.info("loading Please wait.."),n.a.createElement("p",null,"loading...");if(l)return console.error(l),p.b.error("Error Received: ".concat(l)),n.a.createElement("p",null,"Error...");var m=u.getMeasurements,s=m[0].unit,d=[];return m.forEach((function(e){var t=e,a=new Date(e.at).toUTCString();t.dateTime={Date_Time:a.slice(-11,-4)},t.time=a.slice(-25,-4),d.push(t)})),n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"".concat(r," Value: ").concat(d[d.length-1].value," ").concat(s)),n.a.createElement(ne.f,{width:"100%",height:280},n.a.createElement(ne.e,{data:d,margin:{top:4,right:0,left:5,bottom:5}},n.a.createElement(ne.h,{dataKey:"time",interval:"preserveStartEnd"},n.a.createElement(ne.b,{value:r,offset:-6,position:"insideBottomLeft"})),n.a.createElement(ne.i,{offset:6,label:{value:"units measured in ".concat(s),angle:-90,position:"insideBottomLeft"}}),n.a.createElement(ne.a,{strokeDasharray:"3 3"}),n.a.createElement(ne.g,null),n.a.createElement(ne.c,null),n.a.createElement(ne.d,{type:"monotone",dataKey:"value",stroke:"#82ca9d",dot:!1}))))},le=a(501),ue=a(512),me=a(511),se=a(500),de=a(502),pe=a(508),fe=a(509);function he(){var e=Object(_.a)(["\n  {\n    getMetrics\n  }\n"]);return he=function(){return e},e}var be=Object(L.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:220,maxWidth:400}}})),Ee={PaperProps:{style:{maxHeight:224,width:250}}},ge=Object(Y.b)(he()),ve=function(e){var t=be(0),a=Object(X.a)(ge),r=a.loading,c=a.error,i=a.data;if(r)return p.b.info("loading Please wait.."),n.a.createElement("p",null,"loading...");if(c)return p.b.error("Error Received: ".concat(c)),n.a.createElement("p",null,"Error...");var o=i.getMetrics,l=e.handleChange,u=e.SelectedDataName;return n.a.createElement(se.a,{className:t.formControl},n.a.createElement(ue.a,{id:"site-metric-Select"},"Work Site Metric Data"),n.a.createElement(pe.a,{labelId:"site-metric-Select",id:"work-site-metric-selecter",multiple:!0,value:u,onChange:l,input:n.a.createElement(le.a,null),renderValue:function(e){return e.join(", ")},MenuProps:Ee},o.map((function(e){return n.a.createElement(me.a,{key:e,value:e},n.a.createElement(fe.a,{checked:u.indexOf(e)>-1}),n.a.createElement(de.a,{primary:e}))}))))};function Oe(){var e=Object(_.a)(["\n{\n  heartBeat\n}\n"]);return Oe=function(){return e},e}var je=Object(Y.b)(Oe()),we=Object(L.a)((function(e){return{root:{flexGrow:1},card:{margin:"5% 0.5%"}}})),ye=function(){var e=we(0),t=Object(r.useState)([]),a=Object(W.a)(t,2),c=a[0],i=a[1],o=Object(X.a)(je),l=o.loading,u=o.error,m=o.data;if(l)return n.a.createElement("p",null,"loading...");if(u)return p.b.error("Error Received: ".concat(u)),n.a.createElement("p",null,"Error...");var s=c.length,d=12;s>=3?d=4:2===s&&(d=6);return n.a.createElement("div",{className:e.root},n.a.createElement(Z.a,{className:e.card},n.a.createElement(te,{title:"Select Metric to view"}),n.a.createElement(ve,{handleChange:function(e){i(e.target.value)},SelectedDataName:c}),n.a.createElement(ae.a,null,n.a.createElement(re.a,{container:!0,spacing:3},c.map((function(e){return n.a.createElement(re.a,{item:!0,xs:d,key:e},n.a.createElement(oe,{daName:e,epochTime:m.heartBeat}))}))))))},Ne=a(30),ke=new Y.a({uri:"https://react.eogresources.com/graphql"}),xe=function(){var e=Object(l.composeWithDevTools)({}),t=Object(u.a)(),a=Object(o.applyMiddleware)(t),r=Object(o.createStore)(k,e(a));return t.run(y),r}(),Me=Object(M.a)({palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{default:"rgb(226,231,238)"}}}),Re=function(){return n.a.createElement(Ne.a,{client:ke},n.a.createElement(R.a,{theme:Me},n.a.createElement(S.a,null),n.a.createElement(x.a,{store:xe},n.a.createElement(U,null,n.a.createElement(Q,null),n.a.createElement(ye,null),n.a.createElement(p.a,null)))))};i.a.render(n.a.createElement(Re,null),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.430b9346.chunk.js.map